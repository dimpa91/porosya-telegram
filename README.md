# porosya-telegram
Plugin to wordpress to send notice in telegram

Плагин для интеграции telegram в wordpress

Предоставляем Вашему вниманию плагин для разработчиков. Нужен для отправки любых текстов в телеграм. Это могут быть любые события повешенные на хук, ajax запросы запускающие функцию, отправка контактного телефона из формы на сайте и пр.

Плагин имеет страницу настроек и всего 1 функцию sendTelegramMessage($text, $chat_id).

$text — это текст сообщения, может содержать перенос строк.

$chat_id — необязательный параметр, нужен для отправки отдельному адресату в специфических ситуациях (на самом деле просто на всякий случай введен)

Функция возвращает массив ответов сервера телеграма. Каждый элемент массива содержит ответ от 1 адресата.

Установка: 

1. Установить плагин
2. Зайти в Настройки - Telegram
3. В верхнее поле нужно ввести токен. Чтобы получить токен нужно написать в телеграме контакту @BotFather и читать инструкции

Чтобы узнать id чата - напишите своему боту и обновите логи. Там будет строка наподобие {"id":000000000,"first_name":"dmitry","username":"dimpa91"} - id это то, что нужно. Вставьте сколько нужно, каждый с новой строки

4. В коде темы где нужно выводить оповещение воспользуйтесь функцией sendTelegramMessage($text, $chat_id) 
Пример: sendTelegramMessage('Привет'); отправит всем чатам фразу привет, функция вернет результат отправки. 
sendTelegramMessage('Привет', 0000000); отправит привет только в чат с id 0000000.
